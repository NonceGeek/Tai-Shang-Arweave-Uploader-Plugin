(this["webpackJsonparweave-polygon-bridge"]=this["webpackJsonparweave-polygon-bridge"]||[]).push([[0],{434:function(e,t,n){"use strict";(function(e){var a=n(0),c=n.n(a),i=n(435),o=n(71),s=n.n(o),r=n(44),l=n(264),d=n(33),u=n(75),h=n(105),j=n(262),v=n(263),b=n(271),w=n(451),p=n(79),g=n(13);t.a=function(){const t="Select a Currency",n="Select a Provider",[a,o]=c.a.useState(t),[f,x]=c.a.useState(),[O,y]=c.a.useState(n),[m,C]=c.a.useState(),[S,k]=c.a.useState(),[F,B]=c.a.useState(),[I,U]=c.a.useState(),[A,M]=c.a.useState("https://node1.bundlr.network"),[T,W]=c.a.useState(),[L,P]=c.a.useState(),[N,E]=c.a.useState(),_=Object(l.a)(),D=c.a.useRef(),[G,q]=c.a.useState("image/png"),[z,J]=c.a.useState("application/elixir"),[R,H]=c.a.useState("test"),[V,K]=c.a.useState(),Q=async()=>{clearInterval(D.current),C(void 0),k(void 0),B(void 0),U(void 0),E(void 0),x(void 0),o(t),y(n)},X=async t=>{let n=t.target.files,a=new FileReader;n&&n.length>0&&(a.onload=function(){a.result&&k(e.from(a.result))},a.readAsArrayBuffer(n[0]))},Y=async e=>{N&&await Q();const t=new p.providers.Web3Provider(e);return await t._ready(),t},Z={MetaMask:async e=>{var t,n;if(null===(t=window)||void 0===t||null===(n=t.ethereum)||void 0===n||!n.isMetaMask)return;await window.ethereum.enable();const a=await Y(window.ethereum),c="0x".concat(e.chainId.toString(16));try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:c}]})}catch(i){4902===i.code&&await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:c,rpcUrls:e.rpcUrls,chainName:e.chainName}]})}return a},WalletConnect:async e=>await Y(await new w.a(e).enable())},$={matic:{providers:["MetaMask","WalletConnect"],opts:{chainId:137,chainName:"Polygon Mainnet",rpcUrls:["https://polygon-rpc.com"]}}},ee=e=>e.charAt(0).toUpperCase()+e.substring(1).toLowerCase(),te=e=>{const t=new s.a(e).multipliedBy(I.currencyConfig.base[1]);if(!t.isLessThan(1))return t;_({status:"error",title:"Value too small!"})};return Object(g.jsxs)(d.d,{mt:10,children:[Object(g.jsxs)(d.b,{children:[" ",Object(g.jsxs)(u.a,{children:[Object(g.jsx)(u.b,{as:r.a,rightIcon:Object(g.jsx)(b.a,{}),children:ee(a)}),Object(g.jsx)(u.d,{children:Object.keys($).map((e=>Object(g.jsx)(u.c,{onClick:()=>{Q(),o(e)},children:ee(e)},e)))})]}),Object(g.jsxs)(u.a,{children:[Object(g.jsx)(u.b,{disabled:a===t,as:r.a,rightIcon:Object(g.jsx)(b.a,{}),children:O}),Object(g.jsx)(u.d,{children:Object.keys(Z).map((e=>$[a]&&-1!==$[a].providers.indexOf(e)?Object(g.jsx)(u.c,{onClick:()=>y(e),children:e},e):void 0))})]}),Object(g.jsx)(r.a,{w:300,colorScheme:"green",disabled:!(O!==n&&a!==t&&A.length>8),onClick:async()=>await(async()=>{if(D.current&&clearInterval(D.current),N)return E(void 0),U(void 0),void x(void 0);const e=O,t=a,n=Z[e],c=$[t];console.log("loading: ".concat(e," for ").concat(t));const i=await n(c.opts).catch((t=>{_({status:"error",title:"Failed to load provider ".concat(e),duration:1e4}),console.log(t)}));E(i)})(),children:N?"Disconnect":"Connect"})]}),Object(g.jsxs)(d.c,{children:["Connected Account: ",null!==f&&void 0!==f?f:"None"]}),Object(g.jsxs)(d.b,{w:1e3,children:[Object(g.jsx)(r.a,{w:300,colorScheme:"green",disabled:!N,onClick:async()=>await(async()=>{const e=new i.WebBundlr(A,a,N);try{await e.utils.getBundlerAddress(a)}catch{return void _({status:"error",title:"Failed to connect to bundlr ".concat(A),duration:1e4})}try{await e.ready()}catch(t){console.log(t)}e.address||console.log("something went wrong"),_({status:"success",title:"Connected to ".concat(A)}),x(null===e||void 0===e?void 0:e.address),U(e)})(),children:"Connect to Bundlr"}),Object(g.jsx)(h.a,{value:A,onChange:e=>{M(e.target.value)},placeholder:"Bundler Address"}),I&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(r.a,{w:300,onClick:async()=>{f&&I.getBalance(f).then((e=>{C(e.toString())})),await(async()=>{D&&clearInterval(D.current),D.current=window.setInterval((async()=>{null===I||void 0===I||I.getLoadedBalance().then((e=>{C(e.toString())})).catch((e=>clearInterval(D.current)))}),5e3)})()},children:"Get Balance"}),m&&Object(g.jsx)(j.a,{label:"(".concat(m," ").concat(I.currencyConfig.base[0],")"),children:Object(g.jsxs)(d.c,{style:{whiteSpace:"nowrap"},children:[I.utils.unitConverter(m).toFixed(4,2).toString()," ",I.currencyConfig.ticker.toLowerCase()]})})]})]}),I&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(d.b,{w:1e3,children:[Object(g.jsx)(r.a,{w:300,onClick:async()=>{if(I&&T){_({status:"info",title:"Funding...",duration:15e3});const e=te(T);if(!e)return;await I.fund(e).then((e=>{_({status:"success",title:"Funded ".concat(null===e||void 0===e?void 0:e.target),description:" tx ID : ".concat(null===e||void 0===e?void 0:e.id),duration:1e4})})).catch((e=>{var t;_({status:"error",title:"Failed to fund - ".concat((null===(t=e.data)||void 0===t?void 0:t.message)||e.message)})}))}},children:"Fund"}),Object(g.jsx)(h.a,{placeholder:"".concat(ee(a)," Amount"),value:T,onChange:e=>{W(e.target.value)}}),Object(g.jsx)(r.a,{w:300,onClick:async()=>{if(I&&L){_({status:"info",title:"Withdrawing..",duration:15e3});const e=te(L);if(!e)return;await I.withdrawBalance(e).then((e=>{var t;_({status:"success",title:"Withdrawal successful - ".concat(null===(t=e.data)||void 0===t?void 0:t.tx_id),duration:5e3})})).catch((e=>{_({status:"error",title:"Withdrawal Unsuccessful!",description:e.message,duration:5e3})}))}},children:"Withdraw"}),Object(g.jsx)(h.a,{placeholder:"".concat(ee(a)," Amount"),value:L,onChange:e=>{P(e.target.value)}})]}),Object(g.jsx)(d.a,{w:1e3}),Object(g.jsx)(d.c,{fontSize:"xl",children:"Choice 0x01. Upload File"}),Object(g.jsxs)(d.b,{children:[Object(g.jsx)(d.c,{children:'Type(default is "image/png"):'}),Object(g.jsx)(h.a,{onChange:e=>q(e.target.value),placeholder:"image/png"})]}),Object(g.jsx)(r.a,{w:300,onClick:()=>{var e=document.createElement("input");e.type="file",e.accept="image/*",e.style.display="none",document.body.appendChild(e),e.addEventListener("input",(function(t){X(t),document.body.removeChild(e)})),e.click()},children:"Select file from Device"}),S&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(d.b,{children:[Object(g.jsx)(r.a,{w:300,onClick:async()=>{if(S){const e=await(null===I||void 0===I?void 0:I.utils.getPrice(a,S.length));B(null===e||void 0===e?void 0:e.toString())}},children:"Get Price"}),F&&Object(g.jsx)(d.c,{children:"Cost: ".concat(I.utils.unitConverter(F).toString()," ").concat(I.currencyConfig.ticker.toLowerCase()," ")})]}),Object(g.jsx)(r.a,{w:300,onClick:async()=>{S&&await(null===I||void 0===I?void 0:I.uploader.upload(S,[{name:"Content-Type",value:G}]).then((e=>{_({status:200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status)?"success":"error",title:200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status)?"Successful!":"Unsuccessful! ".concat(null===e||void 0===e?void 0:e.status),description:null!==e&&void 0!==e&&e.data.id?"https://arweave.net/".concat(e.data.id):void 0,duration:15e3}),console.log("uploaded tx id is "+e.data.id)})).catch((e=>{_({status:"error",title:"Failed to upload - ".concat(e)})})))},children:"Upload File to Bundlr Network"})]}),Object(g.jsx)(d.a,{w:1e3}),Object(g.jsx)(d.c,{fontSize:"xl",children:"Choice 0x02. Upload Code or Any Other Txt"}),Object(g.jsx)(d.b,{children:Object(g.jsx)(v.a,{onChange:e=>{H(e.target.value)},style:{minHeight:"300px",marginTop:"5px",width:"500px"}})}),Object(g.jsxs)(d.b,{children:[Object(g.jsx)(d.c,{children:'Type(default is "application/elixir"):'}),Object(g.jsx)(h.a,{onChange:e=>J(e.target.value),placeholder:"application/elixir"})]}),Object(g.jsxs)(d.b,{w:1e3,style:{display:"flex",justifyContent:"center"},children:[Object(g.jsx)(r.a,{w:300,onClick:async()=>{if(R){const t=await(null===I||void 0===I?void 0:I.utils.getPrice(a,e.from(R,"utf8").length));K(null===t||void 0===t?void 0:t.toString())}},children:"Get Price"}),V&&Object(g.jsx)(d.c,{children:"Cost: ".concat(I.utils.unitConverter(V).toString()," ").concat(I.currencyConfig.ticker.toLowerCase()," ")})]}),Object(g.jsx)(r.a,{w:300,onClick:async()=>{R&&await(null===I||void 0===I?void 0:I.uploader.upload(e.from(R,"utf8"),[{name:"Content-Type",value:z}]).then((e=>{_({status:200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status)?"success":"error",title:200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status)?"Successful!":"Unsuccessful! ".concat(null===e||void 0===e?void 0:e.status),description:null!==e&&void 0!==e&&e.data.id?"https://arweave.net/".concat(e.data.id):void 0,duration:15e3})})).catch((e=>{_({status:"error",title:"Failed to upload - ".concat(e)})})))},children:"Upload Text to Bundlr Network"})]})]})}}).call(this,n(9).Buffer)},454:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(80),o=n.n(i),s=n(434),r=n(265),l=n(82),d=n(13);o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(r.a,{theme:l.c,children:Object(d.jsx)(s.a,{})})}),document.getElementById("root"))},540:function(e,t){},542:function(e,t){},553:function(e,t){},555:function(e,t){},581:function(e,t){},583:function(e,t){},584:function(e,t){},589:function(e,t){},591:function(e,t){},610:function(e,t){},622:function(e,t){},625:function(e,t){},660:function(e,t){},661:function(e,t){},701:function(e,t){},748:function(e,t){},781:function(e,t){},783:function(e,t){},803:function(e,t){},874:function(e,t){}},[[454,1,2]]]);
//# sourceMappingURL=main.4f5a985f.chunk.js.map