(this["webpackJsonptai-shang-arweave-uploader-plugin"]=this["webpackJsonptai-shang-arweave-uploader-plugin"]||[]).push([[0],{459:function(e,t,n){"use strict";(function(e){var a=n(0),c=n.n(a),i=n(460),o=n(65),s=n.n(o),r=n(41),l=n(272),d=n(31),u=n(74),j=n(103),h=n(270),b=n(271),v=n(280),p=n(475),w=n(79),x=n(278),f=n(12);t.a=function(){const t="Select a Currency",n="Select a Provider",[o,g]=c.a.useState(t),[O,y]=c.a.useState(),[C,m]=c.a.useState(n),[S,k]=c.a.useState(),[I,T]=c.a.useState(),[F,B]=c.a.useState(),[U,_]=c.a.useState(),[A,M]=c.a.useState("https://node1.bundlr.network"),[W,L]=c.a.useState(),[P,N]=c.a.useState(),[E,D]=c.a.useState(),G=Object(l.a)(),J=c.a.useRef(),[R,q]=c.a.useState("image/png"),[z,H]=c.a.useState("application/elixir"),[V,K]=Object(a.useState)(""),[Q,X]=c.a.useState("just a piece of word"),[Y,Z]=c.a.useState(),$=async()=>{clearInterval(J.current),k(void 0),T(void 0),B(void 0),_(void 0),D(void 0),y(void 0),g(t),m(n)},ee=async t=>{let n=t.target.files,a=new FileReader;n&&n.length>0&&(a.onload=function(){a.result&&T(e.from(a.result))},a.readAsArrayBuffer(n[0]))},te=async e=>{E&&await $();const t=new w.providers.Web3Provider(e);return await t._ready(),t},ne={MetaMask:async e=>{var t,n;if(null===(t=window)||void 0===t||null===(n=t.ethereum)||void 0===n||!n.isMetaMask)return;await window.ethereum.enable();const a=await te(window.ethereum),c="0x".concat(e.chainId.toString(16));try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:c}]})}catch(i){4902===i.code&&await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:c,rpcUrls:e.rpcUrls,chainName:e.chainName}]})}return a},WalletConnect:async e=>await te(await new p.a(e).enable())},ae={matic:{providers:["MetaMask","WalletConnect"],opts:{chainId:137,chainName:"Polygon Mainnet",rpcUrls:["https://polygon-rpc.com"]}}},ce=e=>e.charAt(0).toUpperCase()+e.substring(1).toLowerCase(),ie=e=>{const t=new s.a(e).multipliedBy(U.currencyConfig.base[1]);if(!t.isLessThan(1))return t;G({status:"error",title:"Value too small!"})};return Object(f.jsxs)(d.d,{mt:10,children:[Object(f.jsxs)(d.b,{children:[" ",Object(f.jsxs)(u.a,{children:[Object(f.jsx)(u.b,{as:r.a,rightIcon:Object(f.jsx)(v.a,{}),children:ce(o)}),Object(f.jsx)(u.d,{children:Object.keys(ae).map((e=>Object(f.jsx)(u.c,{onClick:()=>{$(),g(e)},children:ce(e)},e)))})]}),Object(f.jsxs)(u.a,{children:[Object(f.jsx)(u.b,{disabled:o===t,as:r.a,rightIcon:Object(f.jsx)(v.a,{}),children:C}),Object(f.jsx)(u.d,{children:Object.keys(ne).map((e=>ae[o]&&-1!==ae[o].providers.indexOf(e)?Object(f.jsx)(u.c,{onClick:()=>m(e),children:e},e):void 0))})]}),Object(f.jsx)(r.a,{w:300,colorScheme:"green",disabled:!(C!==n&&o!==t&&A.length>8),onClick:async()=>await(async()=>{if(J.current&&clearInterval(J.current),E)return D(void 0),_(void 0),void y(void 0);const e=C,t=o,n=ne[e],a=ae[t];console.log("loading: ".concat(e," for ").concat(t));const c=await n(a.opts).catch((t=>{G({status:"error",title:"Failed to load provider ".concat(e),duration:1e4}),console.log(t)}));D(c)})(),children:E?"Disconnect":"Connect"})]}),Object(f.jsxs)(d.c,{children:["Connected Account: ",null!==O&&void 0!==O?O:"None"]}),Object(f.jsxs)(d.b,{w:1e3,children:[Object(f.jsx)(r.a,{w:300,colorScheme:"green",disabled:!E,onClick:async()=>await(async()=>{const e=new i.WebBundlr(A,o,E);try{await e.utils.getBundlerAddress(o)}catch{return void G({status:"error",title:"Failed to connect to bundlr ".concat(A),duration:1e4})}try{await e.ready()}catch(t){console.log(t)}e.address||console.log("something went wrong"),G({status:"success",title:"Connected to ".concat(A)}),y(null===e||void 0===e?void 0:e.address),_(e)})(),children:"Connect to Bundlr"}),Object(f.jsx)(j.a,{value:A,onChange:e=>{M(e.target.value)},placeholder:"Bundler Address"}),U&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(r.a,{w:300,onClick:async()=>{O&&U.getBalance(O).then((e=>{k(e.toString())})),await(async()=>{J&&clearInterval(J.current),J.current=window.setInterval((async()=>{null===U||void 0===U||U.getLoadedBalance().then((e=>{k(e.toString())})).catch((e=>clearInterval(J.current)))}),5e3)})()},children:"Get Balance"}),S&&Object(f.jsx)(h.a,{label:"(".concat(S," ").concat(U.currencyConfig.base[0],")"),children:Object(f.jsxs)(d.c,{style:{whiteSpace:"nowrap"},children:[U.utils.unitConverter(S).toFixed(4,2).toString()," ",U.currencyConfig.ticker.toLowerCase()]})})]})]}),U&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(d.b,{w:1e3,children:[Object(f.jsx)(r.a,{w:300,onClick:async()=>{if(U&&W){G({status:"info",title:"Funding...",duration:15e3});const e=ie(W);if(!e)return;await U.fund(e).then((e=>{G({status:"success",title:"Funded ".concat(null===e||void 0===e?void 0:e.target),description:" tx ID : ".concat(null===e||void 0===e?void 0:e.id),duration:1e4})})).catch((e=>{var t;G({status:"error",title:"Failed to fund - ".concat((null===(t=e.data)||void 0===t?void 0:t.message)||e.message)})}))}},children:"Fund"}),Object(f.jsx)(j.a,{placeholder:"".concat(ce(o)," Amount"),value:W,onChange:e=>{L(e.target.value)}}),Object(f.jsx)(r.a,{w:300,onClick:async()=>{if(U&&P){G({status:"info",title:"Withdrawing..",duration:15e3});const e=ie(P);if(!e)return;await U.withdrawBalance(e).then((e=>{var t;G({status:"success",title:"Withdrawal successful - ".concat(null===(t=e.data)||void 0===t?void 0:t.tx_id),duration:5e3})})).catch((e=>{G({status:"error",title:"Withdrawal Unsuccessful!",description:e.message,duration:5e3})}))}},children:"Withdraw"}),Object(f.jsx)(j.a,{placeholder:"".concat(ce(o)," Amount"),value:P,onChange:e=>{N(e.target.value)}})]}),Object(f.jsx)(d.a,{w:1e3}),Object(f.jsx)(d.c,{fontSize:"xl",children:Object(f.jsx)("b",{children:"Choice 0x01. Upload File"})}),Object(f.jsxs)(d.b,{children:[Object(f.jsx)(d.c,{children:'Type(default is "image/png"):'}),Object(f.jsx)(j.a,{onChange:e=>q(e.target.value),placeholder:"image/png"})]}),Object(f.jsx)(r.a,{w:300,onClick:()=>{var e=document.createElement("input");e.type="file",e.accept="image/*",e.style.display="none",document.body.appendChild(e),e.addEventListener("input",(function(t){ee(t),document.body.removeChild(e)})),e.click()},children:"Select file from Device"}),I&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(d.b,{children:[Object(f.jsx)(r.a,{w:300,onClick:async()=>{if(I){const e=await(null===U||void 0===U?void 0:U.utils.getPrice(o,I.length));B(null===e||void 0===e?void 0:e.toString())}},children:"Get Price"}),F&&Object(f.jsx)(d.c,{children:"Cost: ".concat(U.utils.unitConverter(F).toString()," ").concat(U.currencyConfig.ticker.toLowerCase()," ")})]}),Object(f.jsx)(r.a,{w:300,onClick:async()=>{I&&await(null===U||void 0===U?void 0:U.uploader.upload(I,[{name:"Content-Type",value:R}]).then((e=>{G({status:200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status)?"success":"error",title:200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status)?"Successful!":"Unsuccessful! ".concat(null===e||void 0===e?void 0:e.status),description:null!==e&&void 0!==e&&e.data.id?"https://arweave.net/".concat(e.data.id):void 0,duration:15e3}),window.lastTxId=e.data.id,K(e.data.id),console.log("uploaded tx id is "+window.lastTxId)})).catch((e=>{G({status:"error",title:"Failed to upload - ".concat(e)})})))},children:"Upload File to Bundlr Network"})]}),Object(f.jsx)(d.a,{w:1e3}),Object(f.jsx)(d.c,{fontSize:"xl",children:Object(f.jsx)("b",{children:"Choice 0x02.Upload Code or Any Other Txt"})}),Object(f.jsx)(d.b,{children:Object(f.jsx)(b.a,{onChange:e=>{X(e.target.value)},style:{minHeight:"300px",marginTop:"5px",width:"500px"}})}),Object(f.jsxs)(d.b,{children:[Object(f.jsx)(d.c,{children:'Type(default is "application/elixir"):'}),Object(f.jsx)(j.a,{onChange:e=>H(e.target.value),placeholder:"application/elixir"})]}),Object(f.jsxs)(d.b,{w:1e3,style:{display:"flex",justifyContent:"center"},children:[Object(f.jsx)(r.a,{w:300,onClick:async()=>{if(Q){const t=await(null===U||void 0===U?void 0:U.utils.getPrice(o,e.from(Q,"utf8").length));Z(null===t||void 0===t?void 0:t.toString())}},children:"Get Price"}),Y&&Object(f.jsx)(d.c,{children:"Cost: ".concat(U.utils.unitConverter(Y).toString()," ").concat(U.currencyConfig.ticker.toLowerCase()," ")})]}),Object(f.jsx)(r.a,{w:300,onClick:async()=>{Q&&await(null===U||void 0===U?void 0:U.uploader.upload(e.from(Q,"utf8"),[{name:"Content-Type",value:z}]).then((e=>{G({status:200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status)?"success":"error",title:200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status)?"Successful!":"Unsuccessful! ".concat(null===e||void 0===e?void 0:e.status),description:null!==e&&void 0!==e&&e.data.id?"https://arweave.net/".concat(e.data.id):void 0,duration:15e3}),window.lastTxId=e.data.id,K(e.data.id),console.log("uploaded tx id is "+window.lastTxId)})).catch((e=>{G({status:"error",title:"Failed to upload - ".concat(e)})})))},children:"Upload Text to Bundlr Network"}),Object(f.jsx)(d.c,{children:"Result Json:"}),Object(f.jsxs)(d.c,{children:["{ ",Object(f.jsx)("br",{}),'\xa0\xa0\xa0\xa0"tx_id": "',window.lastTxId,'", ',Object(f.jsx)("br",{}),'\xa0\xa0\xa0\xa0"resource_link": "https://arweave.net/',window.lastTxId,'", ',Object(f.jsx)("br",{}),'\xa0\xa0\xa0\xa0"uploader": "',O,'", ',Object(f.jsx)("br",{}),'\xa0\xa0\xa0\xa0"copy_from": "bundlr"',Object(f.jsx)("br",{}),"}"]}),Object(f.jsx)(x.CopyToClipboard,{text:'{ "uploader": "'.concat(O,'", "tx_hash": "').concat(V,'", "resource_link": "https://arweave.net/').concat(V,'", "copy_from": "bundlr" }'),children:Object(f.jsx)(r.a,{width:"300px",children:"Copy full json to Clipboard"})}),Object(f.jsx)(x.CopyToClipboard,{text:"https://arweave.net/".concat(V),children:Object(f.jsx)(r.a,{width:"300px",children:"Copy resource link to Clipboard only"})})]})]})}}).call(this,n(9).Buffer)},477:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(80),o=n.n(i),s=n(459),r=n(273),l=n(82),d=n(12);o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(r.a,{theme:l.c,children:Object(d.jsx)(s.a,{})})}),document.getElementById("root"))},563:function(e,t){},565:function(e,t){},574:function(e,t){},576:function(e,t){},602:function(e,t){},603:function(e,t){},608:function(e,t){},610:function(e,t){},617:function(e,t){},636:function(e,t){},681:function(e,t){},683:function(e,t){},728:function(e,t){},762:function(e,t){},763:function(e,t){},799:function(e,t){},801:function(e,t){},813:function(e,t){},865:function(e,t){}},[[477,1,2]]]);
//# sourceMappingURL=main.36b0523a.chunk.js.map